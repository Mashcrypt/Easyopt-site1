<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Career Unified – Jobs, Bursaries & University Opportunities in South Africa</title>
  <meta name="description" content="Discover the latest jobs, bursaries, and university application deadlines in South Africa. Apply early, find scholarships, and kickstart your career with Career Unified.">
  <meta name="google-site-verification" content="JKMm0zr9nLbLB8JJt0WMWRy54LR7Ae6gTlexinyCMuI" />

  <!-- Open Graph / Facebook -->
  <meta property="og:title" content="Career Unified – Jobs, Bursaries & Universities in South Africa">
  <meta property="og:description" content="Find internships, jobs, bursaries, and university application deadlines. Career Unified helps South African students and graduates succeed.">
  <meta property="og:url" content="https://careerunified.com/">
  <meta property="og:type" content="website">
  <meta property="og:image" content="https://careerunified.com/images/social-share.png">

  <!-- Twitter -->
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:title" content="Career Unified – Jobs, Bursaries & Universities in South Africa">
  <meta name="twitter:description" content="Find jobs, bursaries, and university opportunities in South Africa. Apply early and secure your career opportunities.">
  <meta name="twitter:image" content="https://careerunified.com/images/social-share.png">

  <!-- Structured Data -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "WebSite",
    "name": "Career Unified",
    "url": "https://careerunified.com/",
    "description": "Discover jobs, bursaries, and university application deadlines in South Africa. Career Unified helps students and graduates find opportunities early.",
    "potentialAction": {
      "@type": "SearchAction",
      "target": "https://careerunified.com/search?q={search_term_string}",
      "query-input": "required name=search_term_string"
    }
  }
  </script>

  <!-- Google Font -->
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap" rel="stylesheet">

  <link rel="stylesheet" href="css/style.css">
</head>

<body>

<!-- NAVIGATION -->
<nav class="main-nav">

  <!-- DESKTOP VIEW -->
  <a href="index.html" class="logo desktop-nav">Career Unified</a>

  <div class="nav-links desktop-nav">
    <a href="jobs.html">Jobs</a>
    <a href="bursaries.html">Bursaries</a>
    <a href="varsity.html">Varsity</a>
    <a href="cv-generator.html">Generate CV</a>
    <a href="recruiter-dashboard.html">Recruiter Dashboard</a>
    <a href="signup.html">Sign Up</a>
    <a href="login.html">Login</a>
    <a href="recruiter-apply.html">Apply as Recruiter</a>
    <a href="account-page.html">My Account</a>
  </div>

  <!-- MOBILE VIEW -->
  <div class="mobile-nav">
    <span class="mobile-logo">Career Unified</span>
    
    <div class="mobile-nav-right">
      <!-- Account Icon -->
      <button class="icon-btn" id="accountBtn" aria-label="Account Menu">
        <svg viewBox="0 0 24 24">
          <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"/>
          <circle cx="12" cy="7" r="4"/>
        </svg>
      </button>

      <!-- Menu Icon -->
      <button class="icon-btn" id="menuBtn" aria-label="Main Menu">
        <svg viewBox="0 0 24 24">
          <line x1="3" y1="12" x2="21" y2="12"/>
          <line x1="3" y1="6" x2="21" y2="6"/>
          <line x1="3" y1="18" x2="21" y2="18"/>
        </svg>
      </button>
    </div>
  </div>

</nav>

<!-- MOBILE SLIDE MENUS -->
<div class="mobile-menu" id="mobileMenu">
  <a href="jobs.html">Jobs</a>
  <a href="bursaries.html">Bursaries</a>
  <a href="varsity.html">Varsity</a>
  <a href="cv-generator.html">Generate CV</a>
  <a href="recruiter-dashboard.html">Recruiter Dashboard</a>
  <a href="signup.html">Sign Up</a>
  <a href="login.html">Login</a>
</div>

<div class="account-menu" id="accountMenu">
  <a href="account-page.html">My Account</a>
  <a href="recruiter-apply.html">Apply as Recruiter</a>
</div>


<!-- HERO -->
<header class="hero">
  <h1>Career Unified</h1>
  <p class="slogan">One click from your dream</p>

  <form class="hero-search" onsubmit="performSearch(); return false;">
    <input type="text" id="homeSearch" placeholder="Search jobs, companies, bursaries, universities...">
    <button type="submit">Search</button>
  </form>
</header>

<!-- QUICK STATS -->
<section class="quick-stats">
  <div class="stat">
    <h3 id="statJobs">0+</h3>
    <p>Jobs Available</p>
  </div>
  <div class="stat">
   <h3 id="statBursaries">0+</h3>
   <p>Bursaries</p>
  </div>
  <div class="stat">
    <h3 id="statVarsity">0</h3>
    <p>Universities</p>
  </div>
  <div class="stat">
    <h3>100%</h3>
    <p>Free Tools</p>
  </div>
</section>

<!-- MAIN -->
<main class="container">
  <h2 class="section-title">Recent Job Openings</h2>
  <div class="job-cards" id="homeJobList"></div>
</main>

<!-- HOW IT WORKS -->
<section class="how-it-works">
  <h2>How Career Unified Works</h2>

  <div class="steps">
    <div class="step reveal">
      <span>1</span>
      <h3>Search & Explore</h3>
      <p>Find jobs, bursaries, and university opportunities using our smart search.</p>
    </div>

    <div class="step reveal">
      <span>2</span>
      <h3>Apply with Confidence</h3>
      <p>View verified listings, deadlines, and use free tools like CV generation.</p>
    </div>

    <div class="step reveal">
      <span>3</span>
      <h3>Move Your Career Forward</h3>
      <p>Track opportunities, get updates, and never miss important closing dates.</p>
    </div>
  </div>
</section>

<!-- WHY CAREER UNIFIED -->
<section class="why-cu">
  <h2>Why Career Unified?</h2>
  <p class="why-subtitle">
    Built for South African students, graduates, and job seekers.
  </p>

  <div class="why-grid">

    <div class="why-card reveal">
      <h3>What we do</h3>
      <p>
        We bring together verified jobs, bursaries, and university opportunities in one place — updated daily.
      </p>
    </div>

    <div class="why-card reveal">
      <h3>Who it's for</h3>
      <p>
        For students, graduates, and job seekers who want real opportunities without scams or paywalls.
      </p>
    </div>

    <div class="why-card reveal">
      <h3>Why you should stay</h3>
      <p>
        We track deadlines, remove expired posts, and give you free tools so you never miss a chance.
      </p>
    </div>

    <div class="why-card reveal highlight">
      <h3>Why choose Career Unified?</h3>
      <p>
        Unlike other platforms that charge or show outdated listings, Career Unified is free, transparent, and focused on real South African opportunities.
      </p>
    </div>

  </div>
</section>


<!-- COOKIE NOTICE -->
<div id="cookieNotice" class="cookie-notice">
  <p>
    Career Unified uses browser storage (cookies & localStorage) to improve your experience,
    remember preferences, and analyse site usage.
    By continuing to use this site, you agree to this.
    <a href="privacy.html">Learn more</a>
  </p>
  <button id="acceptCookies">Accept</button>
</div>

<script>
(function () {
  const notice = document.getElementById('cookieNotice');
  const acceptBtn = document.getElementById('acceptCookies');

  if (localStorage.getItem('cookiesAccepted') === 'true') {
    notice.style.display = 'none';
  }

  acceptBtn.addEventListener('click', () => {
    localStorage.setItem('cookiesAccepted', 'true');
    notice.style.display = 'none';
  });
})();
</script>

<!-- FOOTER -->
<footer class="main-footer">
  <div class="footer-links">
    <a href="about-us.html">About Us</a>
    <a href="privacy.html">Privacy Policy</a>
    <a href="terms.html">Terms & Conditions</a>
    <a href="contact-us.html">Contact Us</a>
  </div>
  <p>© 2026 Career Unified. All rights reserved.</p>
</footer>

<!-- SCROLL BUTTONS -->
<button id="scrollUp" class="scroll-btn">↑</button>
<button id="scrollDown" class="scroll-btn">↓</button>

<!-- SANITY CLIENT -->
<script src="js/sanityClient.js"></script>

<script>
  
  /* ===============================
   CACHE HELPERS
================================ */
function loadCache(key) {
  try {
    const data = localStorage.getItem(key);
    return data ? JSON.parse(data) : null;
  } catch {
    return null;
  }
}

function saveCache(key, data) {
  localStorage.setItem(key, JSON.stringify(data));
}

/* ===============================
   LISTING TIER HELPERS
================================ */

function isPromotionActive(job) {
  if (!job.sponsoredUntil) return true;
  return new Date(job.sponsoredUntil) >= new Date();
}

function getPriority(job) {
  if (job.listingTier === 'premier' && isPromotionActive(job)) return 3;
  if (job.listingTier === 'sponsored' && isPromotionActive(job)) return 2;
  return 1;
}

function getBadge(job) {
  if (job.listingTier === 'premier' && isPromotionActive(job)) return 'Premier';
  if (job.listingTier === 'sponsored' && isPromotionActive(job)) return 'Sponsored';
  return '';
}

/* ===============================
   RECENT JOBS (LOGIC UNCHANGED)
================================ */

const homeJobList = document.getElementById('homeJobList');
const statJobs = document.getElementById('statJobs');

async function renderRecentJobs() {

  // 1️⃣ Show cached jobs instantly
  const cachedJobs = loadCache("home_jobs_cache");
  if (cachedJobs && cachedJobs.length) {
    renderJobsUI(cachedJobs);
  }

  // 2️⃣ Fetch fresh jobs in background
  let jobs = await window.sanityClient.fetch(`*[_type=="job"] | order(posted desc){
    title,
    company,
    location,
    category,
    posted,
    deadline,
    listingTier,
    sponsoredUntil
  }`);

  // 3️⃣ Save fresh data
  saveCache("home_jobs_cache", jobs);

  // 4️⃣ Render updated data
  renderJobsUI(jobs);
}
  
function renderJobsUI(jobs) {
  statJobs.innerText = jobs.length + '+';

  jobs.sort((a, b) => {
    const tierDiff = getPriority(b) - getPriority(a);
    if (tierDiff !== 0) return tierDiff;
    return new Date(b.posted) - new Date(a.posted);
  });

  const today = new Date();
  homeJobList.innerHTML = '';

  jobs.slice(0, 9).forEach(job => {
    const deadlineDate = new Date(job.deadline);
    const isUrgent = (deadlineDate - today) / (1000 * 60 * 60 * 24) <= 7;
    const badge = getBadge(job);

    const card = document.createElement('a');
    card.href = "jobs.html?job=" + encodeURIComponent(job.title);
    card.className = `job-card ${job.listingTier === 'premier' ? 'premier' : ''}`;
    card.style.textDecoration = "none";
    card.style.color = "inherit";

    card.innerHTML = `
      <h3>
        ${job.title}
        <span class="badge">${job.category}</span>
        ${badge ? `<span class="badge-sponsored">${badge}</span>` : ''}
      </h3>
      <p class="company">${job.company || 'Confidential'}</p>
      <p>${job.location}</p>
      <p class="meta">
        Posted: ${job.posted} • Closing: ${job.deadline}
        ${isUrgent ? '<span class="urgent">Urgent</span>' : ''}
      </p>
    `;

    homeJobList.appendChild(card);
  });
}


renderRecentJobs();
const statBursaries = document.getElementById("statBursaries");
const statVarsity = document.getElementById("statVarsity");

async function loadStats(){
  const bursaries = await sanityClient.fetch(`*[_type=="bursary"]{_id}`);
  const varsities = await sanityClient.fetch(`*[_type=="university"]{_id}`);

  statBursaries.innerText = bursaries.length + "+";
  statVarsity.innerText = varsities.length;
}

loadStats();

/* ================= SEARCH ================= */
function performSearch(){
  const term = document.getElementById('homeSearch').value.trim();
  if(!term) return alert('Please enter a keyword');
  localStorage.setItem('homeSearchTerm', term.toLowerCase());
  window.location.href='jobs.html';
}

/* ================= REVEAL ANIMATIONS ================= */
const revealElements = document.querySelectorAll('.reveal');

const observer = new IntersectionObserver(entries => {
  entries.forEach(entry => {
    if (entry.isIntersecting) {
      entry.target.classList.add('show');
    }
  });
}, { threshold: 0.2 });

revealElements.forEach(el => observer.observe(el));

 
/* ================= SCROLL ================= */
const up = document.getElementById('scrollUp');
const down = document.getElementById('scrollDown');

window.addEventListener('scroll',()=>{
  up.style.display = down.style.display = window.scrollY > 300 ? 'block' : 'none';
});
up.onclick=()=>window.scrollTo({top:0,behavior:'smooth'});
down.onclick=()=>window.scrollTo({top:document.body.scrollHeight,behavior:'smooth'});


/* ================= MOBILE NAVIGATION ================= */
const menuBtn = document.getElementById("menuBtn");
const accountBtn = document.getElementById("accountBtn");
const mobileMenu = document.getElementById("mobileMenu");
const accountMenu = document.getElementById("accountMenu");

menuBtn.onclick = () => {
  const isOpen = mobileMenu.style.display === "block";
  mobileMenu.style.display = isOpen ? "none" : "block";
  accountMenu.style.display = "none";
};

accountBtn.onclick = () => {
  const isOpen = accountMenu.style.display === "block";
  accountMenu.style.display = isOpen ? "none" : "block";
  mobileMenu.style.display = "none";
};

// Close menus when clicking outside
document.addEventListener("click", e => {
  if (!e.target.closest(".mobile-nav") && !e.target.closest(".mobile-menu") && !e.target.closest(".account-menu")) {
    mobileMenu.style.display = "none";
    accountMenu.style.display = "none";
  }
});

</script>

</body>
</html>































