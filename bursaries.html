<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Bursaries â€“ Career Unified</title>
<meta name="robots" content="index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1">
<meta name="description" content="Find bursaries, scholarships, and funding opportunities for South African students. Apply early and secure your financial aid for 2026.">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<!-- Open Graph / Facebook -->
<meta property="og:title" content="Bursaries & Scholarships South Africa â€“ Career Unified">
<meta property="og:description" content="Discover bursaries, scholarships, and funding opportunities for students in South Africa. Apply early and secure your financial aid.">
<meta property="og:url" content="https://careerunified.com/bursaries.html">
<meta property="og:type" content="website">
<meta property="og:image" content="https://careerunified.com/images/social-share-bursaries.png">

<!-- Twitter -->
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:title" content="Bursaries & Scholarships South Africa â€“ Career Unified">
<meta name="twitter:description" content="Find bursaries and scholarships for South African students. Apply early to secure funding for 2026.">
<meta name="twitter:image" content="https://careerunified.com/images/social-share-bursaries.png">

<!-- Structured Data for Bursaries -->
<script type="application/ld+json" id="bursary-schema">
{
  "@context": "https://schema.org",
  "@type": "ItemList",
  "name": "Bursaries in South Africa",
  "itemListElement": []
}
</script>

<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap" rel="stylesheet">
<link rel="stylesheet" href="css/style.css">

<style>
/* =============================== */
/* RESET & BASE */
* {
  box-sizing: border-box;
  margin: 0;
  padding: 0;
}

body {
  font-family: 'Poppins', sans-serif;
  background: #f7f9fc;
  color: #111827;
  overflow-x: hidden;
  line-height: 1.6;
}

/* =============================== */
/* HEADER */
header {
  text-align: center;
  padding: 60px 20px 50px;
  background: linear-gradient(135deg, #1e3a8a, #2563eb);
  color: #fff;
}

header h1 {
  margin: 0;
  font-size: 2.5rem;
  font-weight: 700;
}

header p {
  margin-top: 8px;
  font-size: 1.1rem;
  color: #e5e7eb;
  font-weight: 500;
}

/* =============================== */
/* BURSARIES PAGE LAYOUT */
.bursaries-container {
  display: flex;
  max-width: 1200px;
  margin: 30px auto;
  gap: 20px;
  padding: 0 20px;
}

.bursaries-left {
  flex: 1;
  min-width: 0;
}

.bursaries-preview {
  flex: 1;
  background: #fff;
  border-radius: 12px;
  padding: 24px;
  box-shadow: 0 4px 12px rgba(0,0,0,0.08);
  min-height: 420px;
  position: sticky;
  top: 20px;
  max-height: calc(100vh - 40px);
  overflow-y: auto;
}

/* =============================== */
/* FILTER */
.filter {
  margin-bottom: 20px;
}

.filter label {
  display: block;
  margin-bottom: 8px;
  font-weight: 600;
  color: #374151;
  font-size: 0.95rem;
}

.filter select {
  width: 100%;
  padding: 12px 16px;
  border-radius: 8px;
  border: 1px solid #d1d5db;
  font-size: 15px;
  font-family: 'Poppins', sans-serif;
  background: white;
  cursor: pointer;
  transition: all 0.2s;
}

.filter select:focus {
  outline: none;
  border-color: #2563eb;
  box-shadow: 0 0 0 3px rgba(37, 99, 235, 0.1);
}

/* =============================== */
/* BURSARY CARDS LIST */
#bursaryList {
  list-style: none;
  padding: 0;
  margin: 0;
  display: flex;
  flex-direction: column;
  gap: 12px;
}

.bursary-card {
  background: #fff;
  border-radius: 10px;
  padding: 16px;
  box-shadow: 0 2px 8px rgba(0,0,0,0.06);
  cursor: pointer;
  transition: all 0.2s ease;
  position: relative;
  border-left: 3px solid transparent;
}

.bursary-card:hover {
  background: #f0f7ff;
  transform: translateX(4px);
  box-shadow: 0 4px 12px rgba(0,0,0,0.1);
}

.bursary-card.selected {
  border-left-color: #facc15;
  background: #fffbeb;
}

.bursary-card strong {
  font-size: 1.1rem;
  color: #1e3a8a;
  display: block;
  margin-bottom: 6px;
}

.bursary-card p {
  margin: 4px 0;
  font-size: 0.9rem;
  color: #6b7280;
  line-height: 1.5;
}

/* =============================== */
/* URGENT BADGE */
.urgent {
  display: inline-block;
  background: #fef3c7;
  color: #92400e;
  font-size: 11px;
  font-weight: 700;
  padding: 3px 8px;
  border-radius: 6px;
  margin-left: 6px;
  text-transform: uppercase;
  letter-spacing: 0.5px;
}

/* =============================== */
/* READ MORE */
.read-more {
  color: #2563eb;
  cursor: pointer;
  font-weight: 600;
  font-size: 0.9rem;
  display: inline-block;
  margin-top: 6px;
  transition: color 0.2s;
}

.read-more:hover {
  color: #1e40af;
  text-decoration: underline;
}

/* =============================== */
/* BURSARY PREVIEW */
.bursaries-preview h2 {
  color: #1e3a8a;
  font-size: 1.75rem;
  margin-bottom: 16px;
}

.bursaries-preview p {
  margin: 8px 0;
  color: #4b5563;
}

.bursaries-preview strong {
  color: #1f2937;
}

.bursaries-preview .description-content {
  white-space: pre-line;
  margin: 20px 0;
  padding: 16px;
  background: #f9fafb;
  border-radius: 8px;
  line-height: 1.7;
  color: #374151;
}

/* =============================== */
/* APPLY BUTTON */
.bursaries-preview a {
  display: inline-block;
  margin-top: 20px;
  background: #16a34a;
  color: white;
  padding: 12px 24px;
  border-radius: 8px;
  font-weight: 600;
  text-decoration: none;
  transition: all 0.2s;
  font-size: 15px;
}

.bursaries-preview a:hover {
  background: #15803d;
  transform: translateY(-1px);
  box-shadow: 0 4px 12px rgba(22, 163, 74, 0.3);
}

/* =============================== */
/* SKELETON LOADING */
.skeleton {
  background: linear-gradient(
    90deg,
    #e5e7eb 0%,
    #f3f4f6 50%,
    #e5e7eb 100%
  );
  background-size: 200% 100%;
  animation: skeleton-shimmer 1.5s infinite;
  border-radius: 10px;
}

@keyframes skeleton-shimmer {
  0% { background-position: 200% 0; }
  100% { background-position: -200% 0; }
}

.skeleton-bursary {
  height: 120px;
  margin-bottom: 12px;
}

.bursary-card.skeleton {
  cursor: default;
  border: none;
}

.bursary-card.skeleton:hover {
  background: #e5e7eb;
  transform: none;
}

/* =============================== */
/* FADE ANIMATION */
.fade-in {
  animation: fadeIn 0.3s ease;
}

@keyframes fadeIn {
  from {
    opacity: 0;
    transform: translateY(10px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

/* =============================== */
/* FOOTER */
.main-footer {
  background: #1e3a8a;
  color: white;
  text-align: center;
  padding: 30px 20px;
  margin-top: 60px;
}

.footer-links {
  margin-bottom: 12px;
  display: flex;
  justify-content: center;
  flex-wrap: wrap;
  gap: 12px;
}

.footer-links a {
  color: #facc15;
  font-weight: 600;
  text-decoration: none;
}

.footer-links a:hover {
  text-decoration: underline;
}

/* =============================== */
/* SCROLL BUTTONS */
.scroll-btn {
  position: fixed;
  right: 20px;
  background: #2563eb;
  color: white;
  border: none;
  width: 48px;
  height: 48px;
  border-radius: 50%;
  font-size: 22px;
  cursor: pointer;
  display: none;
  z-index: 1000;
  box-shadow: 0 6px 20px rgba(0,0,0,0.25);
  transition: all 0.2s;
}

#scrollUp { bottom: 90px; }
#scrollDown { bottom: 30px; }

.scroll-btn:hover {
  background: #1e3a8a;
  transform: translateY(-2px);
}

/* =============================== */
/* EMPTY STATE */
.empty-state {
  text-align: center;
  padding: 60px 20px;
  color: #6b7280;
}

.empty-state svg {
  width: 80px;
  height: 80px;
  margin-bottom: 16px;
  opacity: 0.3;
}

.empty-state h3 {
  color: #374151;
  margin-bottom: 8px;
}

/* =============================== */
/* MOBILE RESPONSIVE */
@media (max-width: 900px) {
  
  header {
    padding: 50px 16px 40px;
  }

  header h1 {
    font-size: 2rem;
  }

  header p {
    font-size: 1rem;
  }

  /* Stack layout on mobile */
  .bursaries-container {
    flex-direction: column;
    margin: 20px auto;
    padding: 0 16px;
    gap: 16px;
  }

  .bursaries-left,
  .bursaries-preview {
    width: 100%;
  }

  .bursaries-preview {
    position: static;
    max-height: none;
    padding: 20px;
    margin-top: 0;
  }

  /* Filter */
  .filter {
    margin-bottom: 16px;
  }

  .filter select {
    padding: 14px 16px;
    font-size: 16px; /* Prevents iOS zoom */
  }

  /* Bursary Cards */
  .bursary-card {
    padding: 14px;
  }

  .bursary-card strong {
    font-size: 1rem;
  }

  .bursary-card p {
    font-size: 0.85rem;
  }

  /* Bursary Preview */
  .bursaries-preview h2 {
    font-size: 1.4rem;
  }

  .bursaries-preview p {
    font-size: 0.9rem;
  }

  .bursaries-preview .description-content {
    font-size: 0.9rem;
    padding: 14px;
  }

  .bursaries-preview a {
    width: 100%;
    text-align: center;
    padding: 14px;
    font-size: 16px;
  }

  /* Footer */
  .footer-links {
    flex-direction: column;
    gap: 8px;
  }

  .footer-links a {
    font-size: 14px;
  }

  /* Scroll Buttons */
  .scroll-btn {
    width: 44px;
    height: 44px;
    font-size: 20px;
    right: 16px;
  }

  #scrollUp { bottom: 80px; }
  #scrollDown { bottom: 24px; }
}

/* =============================== */
/* EXTRA SMALL SCREENS */
@media (max-width: 400px) {
  header h1 {
    font-size: 1.75rem;
  }

  .bursary-card strong {
    font-size: 0.95rem;
  }
}
</style>
</head>

<body>

<!-- NAVIGATION -->
<nav class="main-nav">

  <!-- DESKTOP VIEW -->
  <a href="index.html" class="logo desktop-nav">Career Unified</a>

  <div class="nav-links desktop-nav">
    <a href="jobs.html">Jobs</a>
    <a href="bursaries.html">Bursaries</a>
    <a href="varsity.html">Varsity</a>
    <a href="cv-generator.html">Generate CV</a>
    <a href="recruiter-dashboard.html">Recruiter Dashboard</a>
    <a href="recruiter-apply.html">Apply as Recruiter</a>
    <a href="signup.html">Sign Up</a>
    <a href="login.html">Login</a>
    
    <!-- My Account Icon (Desktop) -->
    <a href="account-page.html" class="icon-btn desktop-account-btn" aria-label="My Account" title="My Account">
      <svg viewBox="0 0 24 24">
        <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"/>
        <circle cx="12" cy="7" r="4"/>
      </svg>
    </a>
  </div>

  <!-- MOBILE VIEW -->
  <div class="mobile-nav">
    <!-- Clickable Logo -->
    <a href="index.html" class="mobile-logo">Career Unified</a>
    
    <div class="mobile-nav-right">
      <!-- Account Icon - Direct Link -->
      <a href="account-page.html" class="icon-btn" aria-label="My Account">
        <svg viewBox="0 0 24 24">
          <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"/>
          <circle cx="12" cy="7" r="4"/>
        </svg>
      </a>

      <!-- Menu Icon -->
      <button class="icon-btn" id="menuBtn" aria-label="Main Menu">
        <svg viewBox="0 0 24 24">
          <line x1="3" y1="12" x2="21" y2="12"/>
          <line x1="3" y1="6" x2="21" y2="6"/>
          <line x1="3" y1="18" x2="21" y2="18"/>
        </svg>
      </button>
    </div>
  </div>

</nav>

<!-- MOBILE SLIDE MENU -->
<div class="mobile-menu" id="mobileMenu">
  <a href="jobs.html">Jobs</a>
  <a href="bursaries.html">Bursaries</a>
  <a href="varsity.html">Varsity</a>
  <a href="cv-generator.html">Generate CV</a>
  <a href="recruiter-dashboard.html">Recruiter Dashboard</a>
  <a href="recruiter-apply.html">Apply as Recruiter</a>
  <a href="signup.html">Sign Up</a>
  <a href="login.html">Login</a>
</div>

<!-- HEADER -->
<header>
  <h1>Available Bursaries</h1>
  <p>Find bursaries and scholarships for South African students</p>
</header>

<!-- MAIN CONTENT -->
<main class="bursaries-container">
  <div class="bursaries-left">
    <!-- Filter -->
    <div class="filter">
      <label for="facultyFilter">Filter by Faculty/Category:</label>
      <select id="facultyFilter">
        <option value="All">All Bursaries</option>
      </select>
    </div>

    <!-- Bursary List -->
    <ul id="bursaryList"></ul>
  </div>

  <!-- Bursary Preview Panel -->
  <div class="bursaries-preview" id="bursaryPreview">
    <div style="text-align: center; color: #9ca3af; padding: 40px 20px;">
      <svg viewBox="0 0 24 24" style="width: 64px; height: 64px; margin: 0 auto 16px; stroke: currentColor; fill: none; stroke-width: 2;">
        <path d="M12 14l9-5-9-5-9 5 9 5z"/>
        <path d="M12 14l6.16-3.422a12.083 12.083 0 01.665 6.479A11.952 11.952 0 0012 20.055a11.952 11.952 0 00-6.824-2.998 12.078 12.078 0 01.665-6.479L12 14z"/>
        <path d="M12 14l9-5-9-5-9 5 9 5zm0 0l6.16-3.422a12.083 12.083 0 01.665 6.479A11.952 11.952 0 0012 20.055a11.952 11.952 0 00-6.824-2.998 12.078 12.078 0 01.665-6.479L12 14zm-4 6v-7.5l4-2.222"/>
      </svg>
      <p style="font-size: 1.1rem; color: #6b7280;">Select a bursary to view details</p>
    </div>
  </div>
</main>

<!-- FOOTER -->
<footer class="main-footer">
  <div class="footer-links">
    <a href="about-us.html">About Us</a>
    <a href="privacy.html">Privacy Policy</a>
    <a href="terms.html">Terms & Conditions</a>
    <a href="contact-us.html">Contact Us</a>
  </div>
  <p>Â© 2026 Career Unified. All rights reserved.</p>
</footer>

<!-- SCROLL BUTTONS -->
<button id="scrollUp" class="scroll-btn">â†‘</button>
<button id="scrollDown" class="scroll-btn">â†“</button>

<!-- SANITY CLIENT -->
<script src="js/sanityClient.js"></script>

<script>
/* ================================
   MOBILE NAVIGATION
================================ */
const menuBtn = document.getElementById("menuBtn");
const accountBtn = document.getElementById("accountBtn");
const mobileMenu = document.getElementById("mobileMenu");
const accountMenu = document.getElementById("accountMenu");

if (menuBtn) {
  menuBtn.onclick = () => {
    const isOpen = mobileMenu.style.display === "block";
    mobileMenu.style.display = isOpen ? "none" : "block";
    accountMenu.style.display = "none";
  };
}

if (accountBtn) {
  accountBtn.onclick = () => {
    const isOpen = accountMenu.style.display === "block";
    accountMenu.style.display = isOpen ? "none" : "block";
    mobileMenu.style.display = "none";
  };
}

// Close menus when clicking outside
document.addEventListener("click", e => {
  if (!e.target.closest(".mobile-nav") && !e.target.closest(".mobile-menu") && !e.target.closest(".account-menu")) {
    if (mobileMenu) mobileMenu.style.display = "none";
    if (accountMenu) accountMenu.style.display = "none";
  }
});

/* ================================
   BURSARIES PAGE LOGIC
================================ */
const bursaryList = document.getElementById('bursaryList');
const facultyFilter = document.getElementById('facultyFilter');
const bursaryPreview = document.getElementById('bursaryPreview');

// Global search from homepage
let globalSearch = localStorage.getItem("homeSearchTerm");
if (globalSearch) {
  localStorage.removeItem("homeSearchTerm");
}

// Cache system
const BURSARY_CACHE = "careerUnifiedBursaryCache";
const BURSARY_CACHE_TIME = "careerUnifiedBursaryCacheTime";
const CACHE_TTL = 5 * 60 * 1000; // 5 minutes

let bursaries = [];
let selectedIndex = null;

// Show skeleton loaders
function showBursarySkeletons() {
  bursaryList.innerHTML = "";
  for (let i = 0; i < 6; i++) {
    const li = document.createElement("li");
    li.className = "bursary-card skeleton skeleton-bursary";
    bursaryList.appendChild(li);
  }
}

// Schema injection
function injectBursarySchema() {
  const schema = {
    "@context": "https://schema.org",
    "@type": "ItemList",
    "name": "Bursaries in South Africa",
    "itemListElement": bursaries.map((b, index) => ({
      "@type": "Scholarship",
      "position": index + 1,
      "name": b.name,
      "provider": { "@type": "CollegeOrUniversity", "name": b.provider },
      "applicationDeadline": b.deadline,
      "url": b.applicationLink || "https://careerunified.com/bursaries.html"
    }))
  };

  const old = document.getElementById("bursary-schema");
  if (old) old.remove();

  const script = document.createElement("script");
  script.id = "bursary-schema";
  script.type = "application/ld+json";
  script.textContent = JSON.stringify(schema);
  document.head.appendChild(script);
}

// Load cached bursaries instantly
loadCachedBursaries();

function loadCachedBursaries() {
  const cached = localStorage.getItem(BURSARY_CACHE);
  if (!cached) return;

  try {
    bursaries = JSON.parse(cached);
    injectBursarySchema();
    populateFacultyFilter();
    renderBursaries();
    console.log("âš¡ Loaded bursaries from cache");
  } catch (e) {
    console.warn("Cache invalid");
  }
}

// Populate faculty filter
function populateFacultyFilter() {
  facultyFilter.innerHTML = `<option value="All">All Bursaries</option>`;
  const faculties = Array.from(new Set(bursaries.map(b => b.faculty))).sort();
  faculties.forEach(f => {
    const opt = document.createElement('option');
    opt.value = f;
    opt.textContent = f;
    facultyFilter.appendChild(opt);
  });
}

// Fetch fresh bursaries from Sanity
async function fetchBursaries() {
  let query = `*[_type=="bursary"]`;

  if (globalSearch) {
    query = `*[_type=="bursary" && (
      name match "*${globalSearch}*" ||
      provider match "*${globalSearch}*" ||
      faculty match "*${globalSearch}*" ||
      description match "*${globalSearch}*"
    )]`;
  }

  try {
    bursaries = await window.sanityClient.fetch(`${query} | order(deadline asc){
      _id,
      name,
      provider,
      faculty,
      description,
      deadline,
      applicationLink
    }`);

    // Save to cache
    localStorage.setItem(BURSARY_CACHE, JSON.stringify(bursaries));
    localStorage.setItem(BURSARY_CACHE_TIME, Date.now());

    injectBursarySchema();
    populateFacultyFilter();
    renderBursaries();
    console.log("ðŸ”„ Bursaries updated from Sanity");

  } catch (err) {
    console.error("Sanity failed â€” using cache", err);
  }
}

// Render bursaries list
function renderBursaries(filter = 'All') {
  bursaryList.innerHTML = '';
  const filtered = filter === 'All' ? bursaries : bursaries.filter(b => b.faculty === filter);

  if (!filtered.length) {
    bursaryList.innerHTML = `
      <div class="empty-state">
        <svg viewBox="0 0 24 24" style="stroke: currentColor; fill: none; stroke-width: 2;">
          <circle cx="11" cy="11" r="8"/>
          <path d="m21 21-4.35-4.35"/>
        </svg>
        <h3>No bursaries found</h3>
        <p>Try selecting a different faculty</p>
      </div>
    `;
    bursaryPreview.innerHTML = `
      <div style="text-align: center; color: #9ca3af; padding: 40px 20px;">
        <p style="font-size: 1.1rem;">Select a bursary to view details</p>
      </div>
    `;
    return;
  }

  const today = new Date();
  filtered.forEach((b, index) => {
    const deadlineDate = new Date(b.deadline);
    const isUrgent = (deadlineDate - today) / (1000 * 60 * 60 * 24) <= 7;
    const shortDesc = b.description.length > 150 ? b.description.substring(0, 150) + '...' : b.description;
    const readMore = b.description.length > 150 ? `<span class="read-more" onclick="toggleDesc(${index})">Read more</span>` : '';

    const li = document.createElement('li');
    li.className = 'bursary-card';
    if (index === selectedIndex) li.classList.add('selected');

    li.innerHTML = `
      <strong>${b.name}</strong>
      <p><strong>Faculty:</strong> ${b.faculty}</p>
      <p><strong>Provider:</strong> ${b.provider}</p>
      <p><strong>Deadline:</strong> ${b.deadline} ${isUrgent ? '<span class="urgent">Closing Soon</span>' : ''}</p>
      <p id="desc-${index}">${shortDesc}</p>
      ${readMore}
    `;

    li.onclick = () => {
      selectedIndex = index;
      showPreview(b);
      renderBursaries(facultyFilter.value);
      
      // Scroll to preview on mobile
      if (window.innerWidth <= 900) {
        document.getElementById('bursaryPreview').scrollIntoView({ 
          behavior: 'smooth', 
          block: 'start' 
        });
      }
    };

    bursaryList.appendChild(li);
  });
}

// Extract clean link
function extractLink(raw) {
  if (!raw) return null;
  if (typeof raw === "string") return raw.trim();
  if (raw.current) return raw.current.trim();
  if (raw.href) return raw.href.trim();
  return null;
}

// Show bursary preview
function showPreview(b) {
  let safeUrl = extractLink(b.applicationLink);

  if (safeUrl && !safeUrl.startsWith("http")) {
    safeUrl = "https://" + safeUrl;
  }

  bursaryPreview.innerHTML = `
    <div class="fade-in">
      <h2>${b.name}</h2>
      <p><strong>Faculty:</strong> ${b.faculty}</p>
      <p><strong>Provider:</strong> ${b.provider}</p>
      <p><strong>Deadline:</strong> ${b.deadline}</p>
      <div class="description-content">${b.description}</div>
      ${
        safeUrl
          ? `<a href="${safeUrl}" target="_blank" rel="noopener noreferrer">Apply Now</a>`
          : `<p style="color:#dc2626;font-weight:600;margin-top:20px;">No application link provided</p>`
      }
    </div>
  `;
}

// Toggle description
function toggleDesc(index) {
  const descEl = document.getElementById(`desc-${index}`);
  const b = bursaries[index];
  descEl.innerHTML = descEl.innerHTML.endsWith('...') ? b.description : b.description.substring(0, 150) + '...';
}

// Event listeners
facultyFilter.addEventListener('change', e => renderBursaries(e.target.value));

// Startup
showBursarySkeletons();

const last = localStorage.getItem(BURSARY_CACHE_TIME);
if (!last || Date.now() - last > CACHE_TTL) {
  fetchBursaries();
} else {
  fetchBursaries(); // background refresh
}

setInterval(fetchBursaries, 5 * 60 * 1000);

/* ================= SCROLL ================= */
const up = document.getElementById('scrollUp');
const down = document.getElementById('scrollDown');

window.addEventListener('scroll', () => {
  up.style.display = down.style.display = window.scrollY > 300 ? 'block' : 'none';
});

up.onclick = () => window.scrollTo({top: 0, behavior: 'smooth'});
down.onclick = () => window.scrollTo({top: document.body.scrollHeight, behavior: 'smooth'});
</script>

</body>
</html>


















