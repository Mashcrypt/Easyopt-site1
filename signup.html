<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Sign Up – Career Unified</title>

<style>
/* =========================================================
   GLOBAL RESET & BASE
========================================================= */
* {
  box-sizing: border-box;
}

body {
  font-family: 'Poppins', sans-serif;
  background: linear-gradient(135deg, #1e3a8a 0%, #2563eb 100%);
  min-height: 100vh;
  margin: 0;
  display: flex;
  align-items: center;
  justify-content: center;
}

/* =========================================================
   SIGNUP CARD (HEIGHT REDUCED)
========================================================= */
.signup-container {
  background: #ffffff;
  width: 420px;
  max-width: 95%;
  padding: 32px 34px; /* ⬅ reduced */
  border-radius: 20px;
  box-shadow: 0 30px 60px rgba(0, 0, 0, 0.2);
  text-align: center;
  animation: fadeUp 0.5s ease;
}

@keyframes fadeUp {
  from {
    opacity: 0;
    transform: translateY(14px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

/* =========================================================
   HEADINGS
========================================================= */
.signup-container h2 {
  margin-bottom: 4px;
  color: #1e3a8a;
  font-size: 1.9rem;
  font-weight: 700;
}

.subtitle {
  font-size: 13px;
  color: #6b7280;
  margin-bottom: 18px; /* ⬅ reduced */
}

/* =========================================================
   ROLE SELECTOR
========================================================= */
.role-selector {
  display: flex;
  gap: 10px;
  margin-bottom: 16px;
}

.role-card {
  flex: 1;
  padding: 12px 8px;
  border-radius: 12px;
  border: 2px solid #e5e7eb;
  cursor: pointer;
  transition: all 0.25s ease;
}

.role-card h4 {
  margin: 0;
  font-size: 14px;
  color: #1f2937;
}

.role-card p {
  font-size: 11px;
  color: #6b7280;
  margin-top: 4px;
}

.role-card.active {
  border-color: #2563eb;
  background: #eff6ff;
}

.role-card:hover {
  border-color: #2563eb;
}

/* =========================================================
   INPUT FIELDS
========================================================= */
.field {
  position: relative;
}

.signup-container input {
  width: 100%;
  padding: 13px 14px;
  margin: 8px 0;
  border-radius: 10px;
  border: 1px solid #d1d5db;
  font-size: 14px;
}

.signup-container input:focus {
  outline: none;
  border-color: #2563eb;
  box-shadow: 0 0 0 3px rgba(37, 99, 235, 0.15);
}

/* =========================================================
   PASSWORD TOGGLE
========================================================= */
.toggle-password {
  position: absolute;
  right: 14px;
  top: 50%;
  transform: translateY(-50%);
  cursor: pointer;
  font-size: 13px;
  color: #2563eb;
  font-weight: 600;
}

/* =========================================================
   BUTTONS
========================================================= */
button {
  width: 100%;
  padding: 13px;
  margin-top: 12px;
  border-radius: 10px;
  border: none;
  font-size: 15px;
  font-weight: 600;
  cursor: pointer;
}

#signupBtn {
  background: #1e3a8a;
  color: #ffffff;
}

#signupBtn:hover {
  background: #162c6f;
}

/* =========================================================
   DIVIDER (HEIGHT REDUCED)
========================================================= */
.divider {
  display: flex;
  align-items: center;
  margin: 16px 0 10px;
  font-size: 12px;
  color: #6b7280;
}

.divider::before,
.divider::after {
  content: "";
  flex: 1;
  height: 1px;
  background: #e5e7eb;
}

.divider span {
  padding: 0 10px;
}

/* =========================================================
   GOOGLE BUTTON
========================================================= */
.google-btn {
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 10px;
  background: #ffffff;
  color: #111827;
  border: 1px solid #d1d5db;
}

.google-icon {
  width: 20px;
  height: 20px;
}

/* =========================================================
   FOOTER
========================================================= */
.signup-container p {
  margin-top: 14px;
  font-size: 13px;
  color: #4b5563;
}

#errorMsg {
  margin-top: 8px;
  font-size: 13px;
  color: #dc2626;
  min-height: 16px;
}
</style>
</head>

<body>

<div class="signup-container">

  <h2>Create your account</h2>
  <div class="subtitle">Choose how you want to use Career Unified</div>

  <!-- ROLE SELECTOR -->
  <div class="role-selector">
    <div class="role-card active" data-role="user">
      <h4>Job Seeker</h4>
      <p>Find jobs & apply</p>
    </div>
    <div class="role-card" data-role="student">
      <h4>Student</h4>
      <p>Internships & learn</p>
    </div>
    <div class="role-card" data-role="recruiter">
      <h4>Recruiter</h4>
      <p>Post & manage jobs</p>
    </div>
  </div>

  <input type="text" id="fullName" placeholder="Full name">
  <input type="email" id="email" placeholder="Email address">

  <div class="field">
    <input type="password" id="password" placeholder="Password">
    <span class="toggle-password" id="togglePassword">Show</span>
  </div>

  <button id="signupBtn">Create account</button>

  <div class="divider"><span>or continue with</span></div>

  <button id="googleSignup" class="google-btn">Sign up with Google</button>

  <p id="errorMsg"></p>
</div>

<script type="module">
import { initializeApp } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js";
import {
  getAuth, createUserWithEmailAndPassword, GoogleAuthProvider, signInWithPopup,
  updateProfile
} from "https://www.gstatic.com/firebasejs/10.7.1/firebase-auth.js";
import { getFirestore, doc, setDoc, serverTimestamp } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore.js";

const firebaseConfig = {
  apiKey: "AIzaSyAEBbnXPlYYf9jbfgLSzfod3r0i5MOAo9M",
  authDomain: "career-unified.firebaseapp.com",
  projectId: "career-unified",
};

const app = initializeApp(firebaseConfig);
const auth = getAuth(app);
const db = getFirestore(app);
const provider = new GoogleAuthProvider();

let selectedRole = "user";

document.querySelectorAll('.role-card').forEach(card => {
  card.onclick = () => {
    document.querySelectorAll('.role-card').forEach(c => c.classList.remove('active'));
    card.classList.add('active');
    selectedRole = card.dataset.role;
  };
});

document.getElementById('togglePassword').onclick = () => {
  const p = document.getElementById('password');
  p.type = p.type === "password" ? "text" : "password";
};

document.getElementById('signupBtn').onclick = async () => {
  const fullName = fullNameInput.value.trim();
  const email = emailInput.value.trim();
  const password = passwordInput.value;

  if (!fullName || !email || !password) return;

  const userCred = await createUserWithEmailAndPassword(auth, email, password);
  await updateProfile(userCred.user, { displayName: fullName });

  await setDoc(doc(db, "users", userCred.user.uid), {
    fullName,
    email,
    role: selectedRole,
    createdAt: serverTimestamp()
  });

  window.location.href = "index.html";
};

document.getElementById('googleSignup').onclick = async () => {
  const result = await signInWithPopup(auth, provider);
  await setDoc(doc(db, "users", result.user.uid), {
    fullName: result.user.displayName,
    email: result.user.email,
    role: selectedRole,
    createdAt: serverTimestamp()
  }, { merge: true });

  window.location.href = "index.html";
};
</script>

</body>
</html>





